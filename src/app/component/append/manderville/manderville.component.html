<div class="gs-app-append-manderville">
  <div class="gs-app-append-manderville-details">
    <p-accordion
      ><p-accordionTab header="必要アイテム" *ngIf="getTreeNodes(index).length">
        <p-treeTable [value]="getTreeNodes(index)">
          <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
            <tr [ttRow]="rowNode">
              <td>
                <div class="gs-app-append-items-td">
                  <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
                  <div class="gs-app-append-items-content">
                    <ng-container *ngFor="let data of rowData.datas">
                      <div>
                        <img [src]="data.iconUrl" />
                        <a *ngIf="data.tooltipUrl" class="eorzeadb_link" [href]="data.tooltipUrl" target="_blank">
                          <div class="gs-app-append-items-name">{{ data.name }}</div>
                        </a>
                        <div class="gs-app-append-items-name" *ngIf="!data.tooltipUrl">{{ data.name }}</div>
                      </div>
                    </ng-container>
                  </div>
                </div>
              </td>
              <td *ngIf="rowData.urlType === itemUrlType">
                <div class="gs-app-append-items-td">
                  <div class="gs-app-append-items-content">
                    <ng-container *ngFor="let data of rowData.datas">
                      <div class="gs-app-append-items-amount">x {{ data.amount }}</div>
                    </ng-container>
                  </div>
                </div>
              </td>
              <td *ngIf="rowData.parent">
                <div class="gs-app-append-items-td">
                  <i class="pi pi-angle-double-right"></i>
                </div>
              </td>
              <td *ngIf="rowData.parent">
                <div class="gs-app-append-items-td">
                  <img [src]="rowData.parentIconUrl" />
                  <a
                    *ngIf="rowData.parentTooltipUrl"
                    class="eorzeadb_link"
                    [href]="rowData.parentTooltipUrl"
                    target="_blank"
                  >
                    <div class="gs-app-append-items-name">{{ rowData.parentName }}</div>
                  </a>
                  <div class="gs-app-append-items-name" *ngIf="!rowData.parentTooltipUrl">{{ rowData.parentName }}</div>
                </div>
              </td>
              <td *ngIf="rowData.parent">
                <div class="gs-app-append-items-td">
                  <div class="gs-app-append-items-amount">x {{ rowData.parentAmount }}</div>
                </div>
              </td>
            </tr>
          </ng-template></p-treeTable
        > </p-accordionTab
      ><p-accordionTab header="作成手順"
        ><div *ngIf="index == 0">
          <p>ヒルディブランド関連のクエストを進め、帰ってきたヒルディブランドまでクリアする。</p>
          <p-divider></p-divider>
          <p>
            {{ step.classJobCategory.Name_ja }}でラザハンのマンダヴィル家の使用人から<a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[0].quest.id, questUrlType)"
              target="_blank"
            >
              {{ step.quests[0].quest.name }}</a
            >を受注する。
          </p>
          <p>
            ※2 本目以降は、{{ step.classJobCategory.Name_ja }}でマンダヴィル家の職人から<a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[1].quest.id, questUrlType)"
              target="_blank"
            >
              {{ step.quests[1].quest.name }}</a
            >を受注する。
          </p>
          <p-divider></p-divider>
          <p>
            <a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[0].quest.usedItems[0], itemUrlType)"
              target="_blank"
              >{{ getPartial(step.quests[0].quest.usedItems[0], itemUrlType, step.quests[0].partials).obj.n }}</a
            >
            3 つをラザハンにいるゲロルトに渡す。
          </p>
        </div>
        <div *ngIf="index == 1">
          <p>ヒルディブランド関連のクエストを進め、はつらつとした親子までクリアする。</p>
          <p-divider></p-divider>
          <p>
            {{ step.classJobCategory.Name_ja }}でゲロルトから<a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[0].quest.id, questUrlType)"
              target="_blank"
            >
              {{ step.quests[0].quest.name }}</a
            >を受注する。
          </p>
          <p>
            ※2 本目以降は、{{ step.classJobCategory.Name_ja }}でマンダヴィル家の職人から<a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[1].quest.id, questUrlType)"
              target="_blank"
            >
              {{ step.quests[1].quest.name }}</a
            >を受注する。
          </p>
          <p-divider></p-divider>
          <p>
            <a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[0].quest.usedItems[0], itemUrlType)"
              target="_blank"
              >{{ getPartial(step.quests[0].quest.usedItems[0], itemUrlType, step.quests[0].partials).obj.n }}</a
            >
            3 つをラザハンにいるゲロルトに渡す。
          </p>
        </div>
        <div *ngIf="index == 2">
          <p>ヒルディブランド関連のクエストを進め、のうてんきな一家までクリアする。</p>
          <p-divider></p-divider>
          <p>
            {{ step.classJobCategory.Name_ja }}でゲロルトから<a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[0].quest.id, questUrlType)"
              target="_blank"
            >
              {{ step.quests[0].quest.name }}</a
            >を受注する。
          </p>
          <p>
            ※2 本目以降は、{{ step.classJobCategory.Name_ja }}でマンダヴィル家の職人から<a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[1].quest.id, questUrlType)"
              target="_blank"
            >
              {{ step.quests[1].quest.name }}</a
            >を受注する。
          </p>
          <p-divider></p-divider>
          <p>
            <a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[0].quest.usedItems[0], itemUrlType)"
              target="_blank"
              >{{ getPartial(step.quests[0].quest.usedItems[0], itemUrlType, step.quests[0].partials).obj.n }}</a
            >
            3 つをラザハンにいるゲロルトに渡す。
          </p>
        </div>
        <div *ngIf="index == 3">
          <p>ヒルディブランド関連のクエストを進め、マンダヴィル家の謎までクリアする。</p>
          <p-divider></p-divider>
          <p>
            {{ step.classJobCategory.Name_ja }}でゲロルトから<a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[0].quest.id, questUrlType)"
              target="_blank"
            >
              {{ step.quests[0].quest.name }}</a
            >を受注する。
          </p>
          <p>
            ※2 本目以降は、{{ step.classJobCategory.Name_ja }}でマンダヴィル家の職人から<a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[1].quest.id, questUrlType)"
              target="_blank"
            >
              {{ step.quests[1].quest.name }}</a
            >を受注する。
          </p>
          <p-divider></p-divider>
          <p>
            <a
              class="eorzeadb_link"
              [href]="getTooltip(step.quests[0].quest.usedItems[0], itemUrlType)"
              target="_blank"
              >{{ getPartial(step.quests[0].quest.usedItems[0], itemUrlType, step.quests[0].partials).obj.n }}</a
            >
            3 つをラザハンにいるゲロルトに渡す。
          </p>
        </div>
      </p-accordionTab></p-accordion
    >
  </div>
</div>
